<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body class="bg-gray-900 text-white">
    <div class="navbar p-4 bg-gray-800">
        <button class="home-btn text-white font-bold"><a href="index.html">Home</a></button>
    </div>
    <div class="container mx-auto p-8">
        <h1 class="text-3xl font-bold text-center mb-8">CREATE AN ACCOUNT</h1>
        <form id="registration-form" class="space-y-8">
            <!-- Step 1: Personal Information -->
            <div class="form-step space-y-4">
                <label for="first-name" class="block">First Name</label>
                <input type="text" id="first-name" name="first-name" required class="w-full p-2 bg-gray-700 rounded">

                <label for="last-name" class="block">Last Name</label>
                <input type="text" id="last-name" name="last-name" required class="w-full p-2 bg-gray-700 rounded">

                <label for="email" class="block">Email</label>
                <input type="email" id="email" name="email" required class="w-full p-2 bg-gray-700 rounded">

                <label for="phone-number" class="block">Phone Number</label>
                <input type="tel" id="phone-number" name="phone-number" required class="w-full p-2 bg-gray-700 rounded">

                <label for="dob" class="block">Date of Birth</label>
                <input type="date" id="dob" name="dob" required class="w-full p-2 bg-gray-700 rounded">

                <label for="gender" class="block">Gender</label>
                <select id="gender" name="gender" required class="w-full p-2 bg-gray-700 rounded">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>

                <button type="button" class="next-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-full">Next</button>
            </div>

            <!-- Step 2: Address Information -->
            <div class="form-step space-y-4">
                <label for="address" class="block">Address</label>
                <input type="text" id="address" name="address" required class="w-full p-2 bg-gray-700 rounded">

                <label for="city" class="block">City</label>
                <input type="text" id="city" name="city" required class="w-full p-2 bg-gray-700 rounded">

                <label for="state" class="block">State/Province</label>
                <input type="text" id="state" name="state" required class="w-full p-2 bg-gray-700 rounded">

                <label for="zip" class="block">Postal/Zip Code</label>
                <input type="text" id="zip" name="zip" required class="w-full p-2 bg-gray-700 rounded">

                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 mr-2">Previous</button>
                    <button type="button" class="next-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 ml-2">Next</button>
                </div>
            </div>

            <!-- Step 3: Physical Information -->
            <div class="form-step space-y-4">
                <label for="current-weight" class="block">Current Weight</label>
                <input type="number" id="current-weight" name="current-weight" required class="w-full p-2 bg-gray-700 rounded">

                <label for="height" class="block">Height</label>
                <input type="number" id="height" name="height" required class="w-full p-2 bg-gray-700 rounded">

                <label for="goal-weight" class="block">Goal Weight</label>
                <input type="number" id="goal-weight" name="goal-weight" required class="w-full p-2 bg-gray-700 rounded">

                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 mr-2">Previous</button>
                    <button type="button" class="next-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 ml-2">Next</button>
                </div>
            </div>

            <!-- Step 4: Emergency Contact Information -->
            <div class="form-step space-y-4">
                <h2 class="text-xl font-bold">Emergency Contact Information</h2>
                <label for="emergency-contact-name" class="block">Emergency Contact Name</label>
                <input type="text" id="emergency-contact-name" name="emergency-contact-name" required class="w-full p-2 bg-gray-700 rounded">

                <label for="relationship" class="block">Relationship</label>
                <input type="text" id="relationship" name="relationship" required class="w-full p-2 bg-gray-700 rounded">

                <label for="emergency-contact-phone" class="block">Emergency Contact Phone Number</label>
                <input type="tel" id="emergency-contact-phone" name="emergency-contact-phone" required class="w-full p-2 bg-gray-700 rounded">

                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 mr-2">Previous</button>
                    <button type="button" class="next-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 ml-2">Next</button>
                </div>
            </div>

            <!-- Step 5: Medical Information -->
            <div class="form-step space-y-4">
                <h2 class="text-xl font-bold">Medical Information</h2>
                <label class="block">Do you have any medical conditions or allergies?</label>
                <div class="flex items-center space-x-4">
                    <input type="radio" id="medical-yes" name="medical" value="yes" required>
                    <label for="medical-yes">Yes</label>
                    <input type="radio" id="medical-no" name="medical" value="no" required>
                    <label for="medical-no">No</label>
                </div>

                <label for="medical-details" class="block">If yes, please provide details</label>
                <textarea id="medical-details" name="medical-details" class="w-full p-2 bg-gray-700 rounded"></textarea>

                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 mr-2">Previous</button>
                    <button type="button" class="next-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 ml-2">Next</button>
                </div>
            </div>

            <!-- Step 6: Membership Information -->
            <div class="form-step space-y-4">
                <h2 class="text-xl font-bold">Membership Information</h2>
                <label for="membership" class="block">Choose Membership</label>
                <select id="membership" name="membership" required class="w-full p-2 bg-gray-700 rounded">
                    <option value="premium">Premium</option>
                    <option value="classic">Classic</option>
                </select>

                <label for="membership-type" class="block">Choose Membership Type</label>
                <div class="flex items-center space-x-4">
                    <input type="radio" id="monthly" name="membership-type" value="monthly" required>
                    <label for="monthly">Monthly Membership</label>
                    <input type="radio" id="annual" name="membership-type" value="annual" required>
                    <label for="annual">Annual Membership</label>
                    <input type="radio" id="day-pass" name="membership-type" value="day-pass" required>
                    <label for="day-pass">Day Pass</label>
                </div>

                <label for="start-date" class="block">Preferred Start Date</label>
                <input type="date" id="start-date" name="start-date" required class="w-full p-2 bg-gray-700 rounded">

                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 mr-2">Previous</button>
                    <button type="button" class="next-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 ml-2">Next</button>
                </div>
            </div>

            <!-- Step 7: Programs -->
            <div class="form-step space-y-4">
                <h2 class="text-xl font-bold">Programs</h2>
                <label for="programs" class="block">Select Programs</label>
                <div class="flex items-center justify-between mb-2">
                    <input type="checkbox" id="yoga" name="programs" value="yoga" class="form-checkbox h-5 w-5 text-green-500">
                    <label for="yoga">Yoga</label>
                </div>
                <div class="flex items-center justify-between mb-2">
                    <input type="checkbox" id="cardio" name="programs" value="cardio" class="form-checkbox h-5 w-5 text-green-500">
                    <label for="cardio">Cardio</label>
                </div>
                <div class="flex items-center justify-between mb-2">
                    <input type="checkbox" id="strength-training" name="programs" value="strength-training" class="form-checkbox h-5 w-5 text-green-500">
                    <label for="strength-training">Strength Training</label>
                </div>
                <div class="flex items-center justify-between mb-2">
                    <input type="checkbox" id="boxing" name="programs" value="boxing" class="form-checkbox h-5 w-5 text-green-500">
                    <label for="boxing">Boxing</label>
                </div>
                <div class="flex items-center justify-between mb-2">
                    <input type="checkbox" id="meditation" name="programs" value="meditation" class="form-checkbox h-5 w-5 text-green-500">
                    <label for="meditation">Meditation</label>
                </div>
                <div class="flex items-center justify-between mb-2">
                    <input type="checkbox" id="water-aerobics" name="programs" value="water-aerobics" class="form-checkbox h-5 w-5 text-green-500">
                    <label for="water-aerobics">Water Aerobics</label>
                </div>

                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 mr-2">Previous</button>
                    <button type="submit" class="submit-btn bg-green-500 text-white font-bold py-2 px-4 rounded w-1/2 ml-2">Complete</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        const steps = document.querySelectorAll('.form-step');
        let currentStep = 0;

        document.querySelectorAll('.next-btn').forEach(button => {
            button.addEventListener('click', () => {
                steps[currentStep].style.display = 'none';
                currentStep++;
                steps[currentStep].style.display = 'block';
            });
        });

        document.querySelectorAll('.prev-btn').forEach(button => {
            button.addEventListener('click', () => {
                steps[currentStep].style.display = 'none';
                currentStep--;
                steps[currentStep].style.display = 'block';
            });
        });

        document.getElementById('registration-form').addEventListener('submit', async function(event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            const user = {};
            formData.forEach((value, key) => {
                if (key === 'programs') {
                    if (!user[key]) {
                        user[key] = [];
                    }
                    user[key].push(value);
                } else {
                    user[key] = value;
                }
            });

            const token = 'YOUR_PERSONAL_ACCESS_TOKEN'; // Replace with your GitHub personal access token
            const repo = 'YOUR_GITHUB_USERNAME/YOUR_REPOSITORY_NAME'; // Replace with your GitHub username and repository name
            const path = `users/${user['first-name']}_${user['last-name']}.json`; // Path to store the user data

            const response = await fetch(`https://api.github.com/repos/${repo}/contents/${path}`, {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: `Add user ${user['first-name']} ${user['last-name']}`,
                    content: btoa(JSON.stringify(user))
                })
            });

            if (response.ok) {
                alert('Registration successful!');
                window.location.href = 'login.html';
            } else {
                alert('Registration failed!');
            }
        });

        // Initialize the first step
        steps.forEach((step, index) => {
            if (index !== 0) step.style.display = 'none';
        });
    </script>
</body>
</html>
